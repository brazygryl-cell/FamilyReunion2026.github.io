<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Photo Gallery — Williams Family Reunion</title>

<link rel="stylesheet" href="style.css" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
<script type="module" src="nav.js"></script>

<style>
.gallery-title {
  text-align: center;
  margin: 2rem 0 1rem;
  font-family: "Playfair Display", serif;
  font-size: 2.4rem;
}

.gallery-grid {
  display: grid;
  gap: 14px;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  padding: 0 1.5rem 2.5rem;
}

.gallery-grid img {
  width: 100%;
  border-radius: 14px;
  object-fit: cover;
  height: 200px;
  cursor: pointer;
  box-shadow: var(--shadow);
  transition: transform .3s ease;
}

.gallery-grid img:hover {
  transform: scale(1.04);
}

/* Lightbox */
#lightbox {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  display: none;
  place-items: center;
  z-index: 999;
}

#lightbox img {
  max-width: 90%;
  max-height: 90vh;
  border-radius: 14px;
  box-shadow: 0 0 20px rgba(255,255,255,0.3);
}
</style>
</head>

<body>
<header></header>

<h2 class="gallery-title">Family Photo Gallery</h2>

<section class="gallery-grid">
  <!-- ✅ Replace filenames with your actual images -->
  <img src="images/gallery/img1.jpg" alt="">
  <img src="images/gallery/img2.jpg" alt="">
  <img src="images/gallery/img3.jpg" alt="">
  <img src="images/gallery/img4.jpg" alt="">
  <img src="images/gallery/img5.jpg" alt="">
  <img src="images/gallery/img6.jpg" alt="">
</section>

<div id="lightbox"><img src=""></div>

<footer></footer>

<!-- Lightbox JS -->
<script>
const lightbox = document.getElementById("lightbox");
const lightboxImg = lightbox.querySelector("img");

document.querySelectorAll(".gallery-grid img").forEach(img => {
  img.addEventListener("click", () => {
    lightboxImg.src = img.src;
    lightbox.style.display = "grid";
  });
});

lightbox.addEventListener("click", () => {
  lightbox.style.display = "none";
});
</script>

<!-- 🔐 Netlify Identity -->
<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

<!-- ✅ Correct Auth Flow -->
<script type="module">
import { loadNavbar, enableLogout, requireAuth } from "./nav.js";

document.addEventListener("DOMContentLoaded", () => {
  loadNavbar();
  enableLogout();
  requireAuth();   // ✅ No flicker, no infinite reload
});
</script>

</body>
</html>
